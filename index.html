<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ley's LET 2025 English Major — Mixed (120 items)</title>
<meta name="theme-color" content="#0f172a">
<style>
  :root {
    --bg: #fff5fa; /* light blush pink */
    --panel: #ffe6f0; /* soft pastel pink */
    --text: #4a2c3f; /* deep rose brown for good contrast */
    --muted: #b07285; /* muted rose */
    --accent: #ff8ac9; /* bright pink */
    --accent-2: #ffb6d9; /* lighter pink */
    --accent-3: #b8e3d0; /* mint green */
    --danger: #ff5f87; /* warm pink-red */
    --warn: #ffb347; /* soft orange */
    --border: rgba(255, 105, 180, 0.2); /* light pink border */
    --radius: 16px;
    --shadow: 0 10px 28px rgba(255, 192, 203, 0.4); /* soft pink shadow */
  }
  * { box-sizing: border-box }
  body {
    margin: 0; 
    font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Arial;
    color: var(--text);
    background:
      radial-gradient(1200px 700px at -10% -10%, #ffe6f0 0, transparent 60%),
      radial-gradient(1200px 700px at 110% 10%, #fff0f7 0, transparent 60%),
      var(--bg);
    min-height: 100dvh; padding: 20px;
    display: flex; align-items: center; justify-content: center;
  }
  .app { width: min(1100px, 100%); }
  .card {
    background:
      linear-gradient(180deg, rgba(255, 255, 255, .7), rgba(255, 255, 255, 0)) padding-box,
      linear-gradient(180deg, rgba(255, 192, 203, .2), rgba(255, 182, 193, .05)) border-box;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    overflow: hidden;
  }
  header {
    display: flex; align-items: center; justify-content: space-between;
    padding: 16px 18px; 
    border-bottom: 1px solid var(--border); 
    background: rgba(255, 240, 245, .8);
  }
  .brand { display: flex; align-items: center; gap: 12px; font-weight: 800; letter-spacing: .3px; color: var(--accent); }
  .brand svg { width: 28px; height: 28px; }
  .p24 { padding: 24px; }
  .grid { display: grid; gap: 14px; }
  .grid-2 { grid-template-columns: 1fr 1fr; }
  @media (max-width: 820px) { .grid-2 { grid-template-columns: 1fr; } }
  select, input[type="number"], button {
    background: #fff0f7; color: var(--text); border: 1px solid var(--border); border-radius: 12px; padding: 10px 12px; font-weight: 600;
  }
  button { cursor: pointer; transition: .15s transform ease; }
  button:hover { transform: translateY(-1px); }
  .btn-primary { background: linear-gradient(180deg, var(--accent), #ff66b2); border-color: transparent; color: white; }
  .btn-success { background: linear-gradient(180deg, var(--accent-3), #7ed9b8); border-color: transparent; color: #1f4d3a; }
  .btn-danger { background: linear-gradient(180deg, var(--danger), #ff3366); border-color: transparent; color: white; }
  .pill { display: inline-flex; gap: 8px; align-items: center; background: #ffeaf4; border: 1px solid var(--border); padding: 6px 10px; border-radius: 999px; font-size: 13px; color: var(--text); }
  .progress { height: 8px; border-radius: 999px; background: #ffeaf4; border: 1px solid var(--border); overflow: hidden; }
  .progress > div { height: 100%; width: 0; background: linear-gradient(90deg, var(--accent), var(--accent-2)); }
  .qnav { display: flex; gap: 8px; flex-wrap: wrap; max-height: 180px; overflow: auto; }
  .qbtn { min-width: 36px; height: 36px; border-radius: 10px; border: 1px solid var(--border); background: #fff0f7; color: var(--text); font-weight: 700; }
  .qbtn.active { outline: 2px solid var(--accent); }
  .qbtn.answered { background: #ffd6e9; }
  .qbtn.flagged { border-color: var(--warn); }
  .choice { display: flex; gap: 10px; align-items: flex-start; border: 1px solid var(--border); padding: 12px; border-radius: 12px; background: #fff0f7; cursor: pointer; user-select: none; }
  .choice.correct { outline: 2px solid var(--accent-3); }
  .choice.wrong { outline: 2px solid var(--danger); }
  .small { font-size: 12px; color: var(--muted); }
  .footerbar { display: flex; align-items: center; justify-content: space-between; gap: 10px; padding: 12px 16px; border-top: 1px solid var(--border); background: #ffeaf4; position: sticky; bottom: 0; }
  .kpi { background: #ffeaf4; border: 1px solid var(--border); border-radius: 12px; padding: 14px; }
  .hidden { display: none !important; }
</style>
</head>
<body>
<div class="app card">
  <header>
    <div class="brand">
<svg viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
  <rect width="64" height="64" rx="12" fill="#b23a6f"/>
  <path d="M45 19L23 41l-6 2 2-6 22-22 4 4z" fill="#e09e38"/>
  <path d="M47 17l-4-4 2-2a2 2 0 0 1 3 0l1 1a2 2 0 0 1 0 3l-2 2z" fill="#f17ca3"/>
  <path d="M23 41l-4 4" stroke="#f8cde0" stroke-width="2" stroke-linecap="round"/>
</svg>
      <div>Ley's LET 2025 English Major — Mixed (120 items)</div>
    </div>
    <div class="pill"><span id="timer">00:00</span> <span id="timer-label" class="small">elapsed</span></div>
  </header>

  <section id="setup" class="p24">
    <h2 style="margin:0 0 8px 0">Create Your Mock</h2>
    <p class="small">Choose topics (or All), number of questions, and timer. Questions and choices are shuffled.</p>
    <div class="grid grid-2" style="margin:12px 0 0 0">
      <div>
        <label class="small">Topic</label>
        <select id="topic">
          <option value="All">All Topics</option>
          <option value="Grammar">Grammar</option>
          <option value="Literature">Literature</option>
          <option value="Linguistics">Linguistics</option>
          <option value="Speech & Communication">Speech & Communication</option>
          <option value="Reading & Writing">Reading & Writing</option>
        </select>
      </div>
      <div>
        <label class="small">Number of Questions</label>
        <input type="number" id="count" min="10" max="120" value="60">
      </div>
    </div>
    <div class="grid grid-2">
      <div>
        <label class="small">Timer (minutes, 0 = no timer)</label>
        <input type="number" id="minutes" min="0" max="240" value="45">
      </div>
      <div style="display:flex; align-items:flex-end; gap:10px">
        <button id="btn-start" class="btn-primary">Start Mock</button>
        <button id="btn-continue" class="hidden">Continue</button>
        <button id="btn-import">Use Custom JSON</button>
      </div>
    </div>
    <p class="small">Shortcuts: <b>1-4</b> answer, <b>N</b> next, <b>P</b> previous, <b>F</b> flag, <b>R</b> review mode.</p>
    <input type="file" id="file-input" accept=".json" class="hidden">
  </section>

  <section id="quiz" class="hidden">
    <div class="p24">
      <div style="display:flex; align-items:center; justify-content:space-between; gap:10px">
        <div>
          <h2 id="quiz-title" style="margin:0"></h2>
          <div class="small" id="quiz-sub"></div>
        </div>
        <div style="min-width:220px">
          <div class="progress"><div id="progress-bar"></div></div>
        </div>
      </div>
      <div style="display:flex; gap:16px; margin-top:14px">
        <div style="flex:1">
          <div id="qwrap" class="grid"></div>
        </div>
        <aside style="width:280px">
          <div class="kpi">
            <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:8px">
              <div class="small">Question Navigator</div>
              <button id="btn-toggle-review">Review: Off</button>
            </div>
            <div id="qnav" class="qnav"></div>
          </div>
        </aside>
      </div>
    </div>
    <div class="footerbar">
      <div>
        <button id="btn-prev">← Prev</button>
        <button id="btn-next">Next →</button>
        <button id="btn-flag">Flag</button>
        <button id="btn-clear">Clear</button>
      </div>
      <div>
        <button id="btn-submit" class="btn-success">Submit</button>
        <button id="btn-exit" class="btn-danger">Exit</button>
      </div>
    </div>
  </section>

  <section id="results" class="hidden p24">
    <div style="display:flex; align-items:center; justify-content:space-between; gap:10px">
      <h2 style="margin:0">Results</h2>
      <div>
        <button id="btn-review-missed">Review Missed</button>
        <button id="btn-new" class="btn-primary">New Mock</button>
      </div>
    </div>
    <div class="grid grid-2" style="margin-top:12px">
      <div class="kpi"><div class="small">Score</div><div style="font-size:28px; font-weight:800"><span id="res-score">0</span> / <span id="res-total">0</span></div></div>
      <div class="kpi"><div class="small">Accuracy</div><div style="font-size:28px; font-weight:800" id="res-acc">0%</div></div>
    </div>
    <div style="margin-top:14px">
      <div class="small">Time Used</div>
      <div class="kpi" style="margin-top:6px"><span id="res-time" style="font-size:22px; font-weight:800">00:00</span></div>
    </div>
    <div style="margin-top:16px">
      <div class="small">Topic Breakdown</div>
      <div id="res-breakdown" class="grid" style="margin-top:8px; grid-template-columns:repeat(auto-fit,minmax(220px,1fr))"></div>
    </div>
  </section>
</div>

<script>
// Embedded 120-item bank (from your previous build)
const BANK = {
  "title": "LET 2025 English Major — Expanded Mixed Questions (220 items)",
  "exportedAt": "2025-09-03T10:30:00.000Z",
  "items": [
    // Original questions preserved
    {"question": "Identify the correctly placed modifier.", "choices": ["She almost drove her kids to school every day.", "She drove her kids to school almost every day.", "She drove almost her kids to school every day.", "Almost she drove her kids to school every day."], "answer": "She drove her kids to school almost every day.", "explanation": "Place 'almost' next to the word it modifies: 'every day'.", "topic": "Grammar"},
    {"question": "Skimming is best used to:", "choices": ["Find specific facts", "Get the main idea quickly", "Evaluate bias", "Memorize details"], "answer": "Get the main idea quickly", "explanation": "Skimming provides a rapid sense of main points.", "topic": "Reading & Writing"},
    {"question": "Identify the best supporting evidence choice (16).", "choices": ["An anecdote without data", "Irrelevant statistics", "Peer‑reviewed study with data", "Personal opinion"], "answer": "Peer‑reviewed study with data", "explanation": "Empirical, peer‑reviewed sources are strong evidence.", "topic": "Reading & Writing"},
    {"question": "Choose the best visual aid principle (15).", "choices": ["Use many fonts and colors", "Keep slides simple and readable", "Fill slides with paragraphs", "Avoid images entirely"], "answer": "Keep slides simple and readable", "explanation": "Clarity and simplicity increase audience comprehension.", "topic": "Speech & Communication"},
    {"question": "Who wrote 'Paradise Lost'?", "choices": ["John Milton", "Geoffrey Chaucer", "John Donne", "Alexander Pope"], "answer": "John Milton", "explanation": "Milton's epic poem explores the Fall of Man.", "topic": "Literature"},
    {"question": "Coherence in paragraphs is improved by:", "choices": ["Random examples", "Repetition without purpose", "Logical order and transitions", "Length alone"], "answer": "Logical order and transitions", "explanation": "Organized sequencing and cohesive ties enhance coherence.", "topic": "Reading & Writing"},
    {"question": "Vocal variety helps maintain:", "choices": ["Audience attention", "Slide count", "Room temperature", "Lighting"], "answer": "Audience attention", "explanation": "Changes in pitch, rate, and volume keep interest.", "topic": "Speech & Communication"},
    {"question": "Who wrote 'Don Quixote'?", "choices": ["Miguel de Cervantes", "Leo Tolstoy", "Virginia Woolf", "J.D. Salinger"], "answer": "Miguel de Cervantes", "explanation": "Foundational modern novel parodying chivalry.", "topic": "Literature"},
    {"question": "Which best describes 'fossilization'?", "choices": ["Accelerated learning", "Permanent stabilization of errors", "Native-like mastery", "Temporary forgetting"], "answer": "Permanent stabilization of errors", "explanation": "Learner errors become fixed despite exposure.", "topic": "Linguistics"},
    {"question": "'Ethos' appeals to:", "choices": ["Logic", "Emotion", "Credibility/character", "Style"], "answer": "Credibility/character", "explanation": "Aristotle's rhetorical triangle: ethos, pathos, logos.", "topic": "Reading & Writing"},

    // New questions from the uploaded documents
    {"question": "Which of the following is a plosive consonant?", "choices": ["/f/", "/t/", "/s/", "/m/"], "answer": "/t/", "explanation": "Plosive (or stop) consonants involve complete obstruction of airflow, then release.", "topic": "Linguistics"},
    {"question": "Which of the following is a fricative?", "choices": ["/b/", "/k/", "/f/", "/m/"], "answer": "/f/", "explanation": "Fricatives are produced by forcing air through a narrow constriction.", "topic": "Linguistics"},
    {"question": "Which of the following is an affricate?", "choices": ["/tʃ/", "/m/", "/p/", "/r/"], "answer": "/tʃ/", "explanation": "Affricates begin as stops and release as fricatives, like 'ch' in 'church'.", "topic": "Linguistics"},
    {"question": "Which of the following is a nasal?", "choices": ["/t/", "/m/", "/s/", "/k/"], "answer": "/m/", "explanation": "Nasal sounds are produced with air flowing through the nose.", "topic": "Linguistics"},
    {"question": "Which is a liquid sound?", "choices": ["/r/", "/p/", "/s/", "/g/"], "answer": "/r/", "explanation": "Liquids /r/ and /l/ have vowel-like qualities but function as consonants.", "topic": "Linguistics"},
    {"question": "Which is a glide (semivowel)?", "choices": ["/w/", "/m/", "/t/", "/s/"], "answer": "/w/", "explanation": "Glides /w/ and /j/ transition quickly to or from vowels.", "topic": "Linguistics"},
    {"question": "Which sound is bilabial?", "choices": ["/b/", "/f/", "/θ/", "/s/"], "answer": "/b/", "explanation": "Bilabial sounds use both lips, like /p/, /b/, /m/, /w/.", "topic": "Linguistics"},
    {"question": "Which sound is labiodental?", "choices": ["/t/", "/f/", "/g/", "/r/"], "answer": "/f/", "explanation": "Labiodental sounds use the lower lip and upper teeth.", "topic": "Linguistics"},
    {"question": "Which is a palatal sound?", "choices": ["/j/", "/m/", "/b/", "/p/"], "answer": "/j/", "explanation": "Palatal sounds are articulated with the tongue against the hard palate.", "topic": "Linguistics"},
    {"question": "Which is a velar sound?", "choices": ["/n/", "/g/", "/s/", "/d/"], "answer": "/g/", "explanation": "Velar sounds are produced with the back of the tongue against the soft palate.", "topic": "Linguistics"},
    {"question": "Which sound is glottal?", "choices": ["/h/", "/k/", "/t/", "/m/"], "answer": "/h/", "explanation": "Glottal sounds are produced at the glottis (vocal folds).", "topic": "Linguistics"},
    {"question": "The /v/ sound is:", "choices": ["Voiceless labiodental fricative", "Voiced labiodental fricative", "Voiced bilabial stop", "Voiceless interdental"], "answer": "Voiced labiodental fricative", "explanation": "The /v/ sound uses the lower lip and upper teeth with vocal fold vibration.", "topic": "Linguistics"},
    {"question": "The /θ/ sound in 'think' is:", "choices": ["Voiced interdental fricative", "Voiceless interdental fricative", "Voiceless alveolar stop", "Voiced bilabial nasal"], "answer": "Voiceless interdental fricative", "explanation": "The 'th' in 'think' is produced between the teeth without voicing.", "topic": "Linguistics"},
    {"question": "The /ð/ sound in 'this' is:", "choices": ["Voiced interdental fricative", "Voiceless interdental fricative", "Voiced alveolar stop", "Voiceless palatal"], "answer": "Voiced interdental fricative", "explanation": "The 'th' in 'this' is produced between the teeth with voicing.", "topic": "Linguistics"},
    {"question": "Which is a voiced alveolar liquid?", "choices": ["/l/", "/s/", "/p/", "/m/"], "answer": "/l/", "explanation": "The /l/ sound is produced at the alveolar ridge with voicing.", "topic": "Linguistics"},
    {"question": "Which word contains the velar nasal [ŋ]?", "choices": ["Man", "Sing", "Sit", "Sam"], "answer": "Sing", "explanation": "The 'ng' in 'sing' represents the velar nasal [ŋ].", "topic": "Linguistics"},
    {"question": "In 'pat' [pʰ] vs. 'spin' [p], the difference is:", "choices": ["Aspiration", "Voicing", "Place of articulation", "Nasality"], "answer": "Aspiration", "explanation": "Initial /p/ is aspirated in 'pat' but not after /s/ in 'spin'.", "topic": "Linguistics"},
    {"question": "The /b/ sound differs from /p/ in:", "choices": ["Voicing", "Manner", "Place", "Nasality"], "answer": "Voicing", "explanation": "/b/ is voiced while /p/ is voiceless; they share the same place and manner.", "topic": "Linguistics"},
    {"question": "Which phoneme pair is distinguished by voicing?", "choices": ["/t/ vs. /d/", "/m/ vs. /n/", "/p/ vs. /m/", "/s/ vs. /ʃ/"], "answer": "/t/ vs. /d/", "explanation": "/t/ and /d/ differ only in voicing (voiceless vs. voiced).", "topic": "Linguistics"},
    {"question": "Which pair shows difference in manner of articulation?", "choices": ["/t/ vs. /d/", "/m/ vs. /n/", "/t/ vs. /s/", "/p/ vs. /b/"], "answer": "/t/ vs. /s/", "explanation": "/t/ is a stop while /s/ is a fricative - different manners of articulation.", "topic": "Linguistics"},
    {"question": "Which pair shows difference in place of articulation?", "choices": ["/f/ vs. /v/", "/m/ vs. /n/", "/s/ vs. /z/", "/p/ vs. /b/"], "answer": "/m/ vs. /n/", "explanation": "/m/ is bilabial while /n/ is alveolar - different places of articulation.", "topic": "Linguistics"},
    {"question": "'Pat' and 'bat' are minimal pairs because:", "choices": ["They differ by stress", "They differ by only one sound", "They have different syllable structures", "They are homographs"], "answer": "They differ by only one sound", "explanation": "Minimal pairs differ by exactly one phoneme in the same position.", "topic": "Linguistics"},
    {"question": "A syllable consists of:", "choices": ["Only consonants", "Onset, nucleus, and coda", "Vowels only", "Stress and pitch"], "answer": "Onset, nucleus, and coda", "explanation": "These are the three potential parts of syllable structure.", "topic": "Linguistics"},
    {"question": "The central part of the syllable is the:", "choices": ["Coda", "Nucleus", "Onset", "Affix"], "answer": "Nucleus", "explanation": "The nucleus is the obligatory vowel sound at the syllable center.", "topic": "Linguistics"},
    {"question": "A nucleus is typically:", "choices": ["A vowel", "A consonant cluster", "An affix", "A morpheme"], "answer": "A vowel", "explanation": "The nucleus is usually a vowel, though sometimes a syllabic consonant.", "topic": "Linguistics"},
    {"question": "A coda occurs:", "choices": ["At the beginning of a syllable", "At the end of a syllable", "Before the nucleus", "Before onset"], "answer": "At the end of a syllable", "explanation": "The coda consists of consonants that follow the nucleus.", "topic": "Linguistics"},
    {"question": "Which is a closed syllable?", "choices": ["Go", "Cat", "Bee", "Pie"], "answer": "Cat", "explanation": "Closed syllables end in a consonant (the coda).", "topic": "Linguistics"},
    {"question": "Which is an open syllable?", "choices": ["Run", "Me", "Cat", "Sit"], "answer": "Me", "explanation": "Open syllables end in a vowel (no coda).", "topic": "Linguistics"},
    {"question": "Which branch of linguistics studies the structure of sentences?", "choices": ["Phonology", "Syntax", "Morphology", "Semantics"], "answer": "Syntax", "explanation": "Syntax studies how words combine to form phrases and sentences.", "topic": "Linguistics"},
    {"question": "Which branch studies the smallest units of sound?", "choices": ["Pragmatics", "Phonology", "Morphology", "Syntax"], "answer": "Phonology", "explanation": "Phonology studies the sound systems of languages.", "topic": "Linguistics"},
    {"question": "The study of human sounds in general is:", "choices": ["Phonetics", "Semantics", "Morphology", "Pragmatics"], "answer": "Phonetics", "explanation": "Phonetics studies the physical properties of speech sounds.", "topic": "Linguistics"},
    {"question": "Which branch studies word formation?", "choices": ["Syntax", "Semantics", "Morphology", "Pragmatics"], "answer": "Morphology", "explanation": "Morphology studies the internal structure and formation of words.", "topic": "Linguistics"},
    {"question": "The process of learning language is called:", "choices": ["Language Change", "Language Acquisition", "Sociolinguistics", "Applied Linguistics"], "answer": "Language Acquisition", "explanation": "Language acquisition refers to the process of learning language naturally.", "topic": "Linguistics"},
    {"question": "Applied linguistics is mainly concerned with:", "choices": ["Theories of syntax", "Practical uses like language teaching", "Mythology of language", "Cultural criticism"], "answer": "Practical uses like language teaching", "explanation": "Applied linguistics applies linguistic theory to real-world problems.", "topic": "Linguistics"},
    {"question": "The field that studies historical processes in language is:", "choices": ["Pragmatics", "Semantics", "Language Change", "Sociolinguistics"], "answer": "Language Change", "explanation": "Historical linguistics studies how languages change over time.", "topic": "Linguistics"},
    {"question": "Which field focuses on social uses of language?", "choices": ["Sociolinguistics", "Syntax", "Semantics", "Morphology"], "answer": "Sociolinguistics", "explanation": "Sociolinguistics studies language in its social context.", "topic": "Linguistics"},
    {"question": "The smallest unit of meaning in language is a:", "choices": ["Phoneme", "Morpheme", "Grapheme", "Allophone"], "answer": "Morpheme", "explanation": "Morphemes are the smallest meaningful units in language.", "topic": "Linguistics"},
    {"question": "Variations of a single morpheme (like plural -s) are called:", "choices": ["Phones", "Graphemes", "Allomorphs", "Bound morphemes"], "answer": "Allomorphs", "explanation": "Allomorphs are different forms of the same morpheme.", "topic": "Linguistics"},
    {"question": "Which is a bound morpheme?", "choices": ["Dog", "Book", "-s", "Run"], "answer": "-s", "explanation": "Bound morphemes cannot stand alone as words.", "topic": "Linguistics"},
    {"question": "'Teacher' contains which type of morpheme?", "choices": ["Prefix", "Suffix", "Infix", "Circumfix"], "answer": "Suffix", "explanation": "The '-er' ending is a suffix attached to 'teach'.", "topic": "Linguistics"},
    {"question": "'S-um-ulat' in Tagalog shows the use of:", "choices": ["Prefix", "Suffix", "Infix", "Circumfix"], "answer": "Infix", "explanation": "'-um-' is inserted within the root 'sulat' (write).", "topic": "Linguistics"},
    {"question": "Derivational morphemes:", "choices": ["Change the meaning or word class", "Only mark tense", "Are always inflectional", "Never create new words"], "answer": "Change the meaning or word class", "explanation": "Derivational morphemes create new words or change word categories.", "topic": "Linguistics"},
    {"question": "Inflectional morphemes:", "choices": ["Create new words", "Change form but not class", "Add prefixes only", "Cannot indicate plurality"], "answer": "Change form but not class", "explanation": "Inflectional morphemes modify words without changing their category.", "topic": "Linguistics"},
    {"question": "Which is a derivational example?", "choices": ["Walk → walked", "Run → running", "Happy → happiness", "Cat → cats"], "answer": "Happy → happiness", "explanation": "'-ness' creates a noun from an adjective, changing word class.", "topic": "Linguistics"},
    {"question": "Which is an inflectional example?", "choices": ["Child → childhood", "Love → lovely", "Play → played", "Friend → friendship"], "answer": "Play → played", "explanation": "'-ed' marks past tense without changing the word class (verb).", "topic": "Linguistics"},
    {"question": "The 'mental lexicon' is best described as:", "choices": ["A printed dictionary", "A network of words and meanings in the brain", "Grammar rules", "Orthography"], "answer": "A network of words and meanings in the brain", "explanation": "The mental lexicon is our internal storage system for words.", "topic": "Linguistics"},
    {"question": "Language used to talk about language is called:", "choices": ["Metaphor", "Metalanguage", "Pragmatics", "Semantics"], "answer": "Metalanguage", "explanation": "Metalanguage is language used to describe or analyze language itself.", "topic": "Linguistics"},
    {"question": "Collecting data from native speakers is called:", "choices": ["Corpus linguistics", "Elicitation", "Semantics", "Pragmatics"], "answer": "Elicitation", "explanation": "Elicitation involves gathering language data from speakers.", "topic": "Linguistics"},
    {"question": "A word that cannot stand alone is:", "choices": ["Free morpheme", "Bound morpheme", "Lexical morpheme", "Grammatical morpheme"], "answer": "Bound morpheme", "explanation": "Bound morphemes must attach to other morphemes.", "topic": "Linguistics"},
    {"question": "'Football' is formed by:", "choices": ["Conversion", "Compounding", "Affixation", "Clipping"], "answer": "Compounding", "explanation": "Compounding combines two free morphemes: 'foot' + 'ball'.", "topic": "Linguistics"},
    {"question": "'Email' as a verb is formed by:", "choices": ["Back-formation", "Conversion", "Clipping", "Compounding"], "answer": "Conversion", "explanation": "Conversion changes word class without adding affixes.", "topic": "Linguistics"},
    {"question": "Which is a productive suffix in English?", "choices": ["-hood", "-ness", "-dom", "-ship"], "answer": "-ness", "explanation": "'-ness' is actively used to create new words in modern English.", "topic": "Linguistics"},
    {"question": "Which is an example of clipping?", "choices": ["Advertisement → ad", "Donation → donate", "Burglar → burgle", "Pickpocket"], "answer": "Advertisement → ad", "explanation": "Clipping shortens words by removing syllables.", "topic": "Linguistics"},
    {"question": "Homophones are words that:", "choices": ["Sound the same but differ in meaning", "Look the same but differ in meaning", "Are both spelled and pronounced the same", "Have opposite meanings"], "answer": "Sound the same but differ in meaning", "explanation": "Homophones share pronunciation but have different meanings.", "topic": "Linguistics"},
    {"question": "'Flower' and 'flour' are examples of:", "choices": ["Homograph", "Homonymy", "Homophony", "Synonymy"], "answer": "Homophony", "explanation": "These words sound identical but have different meanings and spellings.", "topic": "Linguistics"},
    {"question": "Homographs are words that:", "choices": ["Sound the same but differ in spelling", "Have the same spelling but different meanings", "Have different pronunciations always", "Are spelled differently but mean the same"], "answer": "Have the same spelling but different meanings", "explanation": "Homographs share spelling but may differ in pronunciation or meaning.", "topic": "Linguistics"},
    {"question": "'Lead' (metal) vs. 'lead' (to guide) is:", "choices": ["Homophony", "Homography", "Homonymy", "Synonymy"], "answer": "Homography", "explanation": "Same spelling, different meanings and pronunciations.", "topic": "Linguistics"},
    {"question": "Intonation refers to:", "choices": ["Word stress", "Rise and fall of pitch in speech", "Loudness of voice", "Rhythm"], "answer": "Rise and fall of pitch in speech", "explanation": "Intonation is the melody pattern of speech.", "topic": "Linguistics"},
    {"question": "Rising intonation often signals:", "choices": ["Wh-questions", "Statements", "Yes/No questions", "Commands"], "answer": "Yes/No questions", "explanation": "Rising intonation typically accompanies yes/no questions.", "topic": "Linguistics"},
    {"question": "Falling intonation is typical in:", "choices": ["Uncertainty", "Statements and wh-questions", "Hesitation", "Politeness"], "answer": "Statements and wh-questions", "explanation": "Declarative statements and wh-questions usually have falling intonation.", "topic": "Linguistics"},
    {"question": "Rhythm in English is described as:", "choices": ["Syllable-timed", "Stress-timed", "Tone-timed", "Free-timed"], "answer": "Stress-timed", "explanation": "English rhythm is based on stress patterns, not syllable count.", "topic": "Linguistics"},
    {"question": "Pitch refers to:", "choices": ["Volume of speech", "Highness or lowness of voice", "Rhythm in poetry", "Length of syllables"], "answer": "Highness or lowness of voice", "explanation": "Pitch is the perceived frequency of vocal fold vibration.", "topic": "Linguistics"},
    {"question": "Prosody refers to:", "choices": ["Sound units", "Features above the level of sounds, like stress and intonation", "Morphological processes", "Grammar rules"], "answer": "Features above the level of sounds, like stress and intonation", "explanation": "Prosody encompasses suprasegmental features of speech.", "topic": "Linguistics"},
    {"question": "The Elizabethan Age (1558-1603) is also known as the:", "choices": ["Romantic Age", "Golden Age of English Literature", "Modernist Age", "Augustan Age"], "answer": "Golden Age of English Literature", "explanation": "This period saw Shakespeare, Marlowe, and other literary giants.", "topic": "Literature"},
    {"question": "The Harlem Renaissance primarily emphasized:", "choices": ["Chivalry and medieval ideals", "Racial pride and Black cultural identity", "The tragedy of ambition", "European nationalism"], "answer": "Racial pride and Black cultural identity", "explanation": "The Harlem Renaissance celebrated African American culture and identity.", "topic": "Literature"},
    {"question": "'Willing suspension of disbelief' refers to:", "choices": ["Rejecting reality completely", "Temporarily accepting the implausible in fiction", "Denying logic permanently", "Blind faith in literature"], "answer": "Temporarily accepting the implausible in fiction", "explanation": "Coleridge's concept about accepting fictional elements while reading.", "topic": "Literature"},
    {"question": "Pastoral poetry is characterized by:", "choices": ["Urban settings", "Scientific inquiry", "Rural and rustic idealism", "Industrial progress"], "answer": "Rural and rustic idealism", "explanation": "Pastoral poetry idealizes rural life and nature.", "topic": "Literature"},
    {"question": "Which is the central theme of The Waste Land?", "choices": ["Joyful renewal", "Post-war spiritual crisis", "Romantic optimism", "Elizabethan nationalism"], "answer": "Post-war spiritual crisis", "explanation": "Eliot's poem reflects the spiritual desolation after World War I.", "topic": "Literature"},
    {"question": "A literary work that includes a short quotation or poem at the start is using:", "choices": ["Epilogue", "Monologue", "Epigraph", "Prologue"], "answer": "Epigraph", "explanation": "An epigraph is a short quotation placed at the beginning of a text.", "topic": "Literature"},
    {"question": "A character's private speech addressed to the audience, revealing inner thoughts, is a:", "choices": ["Dialogue", "Soliloquy", "Monologue", "Epigraph"], "answer": "Soliloquy", "explanation": "A soliloquy reveals a character's private thoughts to the audience.", "topic": "Literature"},
    {"question": "Hamlet is primarily about:", "choices": ["The dangers of excessive ambition", "Revenge, indecision, and moral dilemmas", "The collapse of an empire", "The pursuit of love"], "answer": "Revenge, indecision, and moral dilemmas", "explanation": "Hamlet struggles with avenging his father while questioning morality.", "topic": "Literature"},
    {"question": "Which play features the witches' prophecy about a general's rise and fall?", "choices": ["Othello", "Macbeth", "Hamlet", "King Lear"], "answer": "Macbeth", "explanation": "The three witches prophesy Macbeth's rise to kingship and downfall.", "topic": "Literature"},
    {"question": "'To be, or not to be' comes from:", "choices": ["King Lear", "Hamlet", "Macbeth", "Julius Caesar"], "answer": "Hamlet", "explanation": "This is from Hamlet's famous soliloquy in Act 3, Scene 1.", "topic": "Literature"},
    {"question": "The Scarlet Letter explores:", "choices": ["Industrialization", "Hidden sin and public guilt", "Romantic nationalism", "War heroism"], "answer": "Hidden sin and public guilt", "explanation": "Hawthorne examines the consequences of hidden sin and public shame.", "topic": "Literature"},
    {"question": "Ulysses is considered a masterpiece of:", "choices": ["Modernism", "Romanticism", "Neoclassicism", "Realism"], "answer": "Modernism", "explanation": "Joyce's experimental novel exemplifies literary modernism.", "topic": "Literature"},
    {"question": "Franz Kafka is best known for exploring:", "choices": ["Colonial oppression", "Alienation and bureaucracy", "Love and passion", "Heroic nationalism"], "answer": "Alienation and bureaucracy", "explanation": "Kafka's works often feature isolated individuals facing incomprehensible systems.", "topic": "Literature"},
    {"question": "'Kafkaesque' situations are often described as:", "choices": ["Joyful and liberating", "Logical and simple", "Complex and nightmarish", "Harmonious and peaceful"], "answer": "Complex and nightmarish", "explanation": "Kafkaesque describes surreal, bureaucratic, or nightmarish situations.", "topic": "Literature"},
    {"question": "Langston Hughes infused his poetry with:", "choices": ["Shakespearean blank verse", "Jazz and Black vernacular", "Elizabethan sonnet style", "Greek epic tradition"], "answer": "Jazz and Black vernacular", "explanation": "Hughes incorporated jazz rhythms and African American speech patterns.", "topic": "Literature"},
    {"question": "The allegorical tale Young Goodman Brown focuses on:", "choices": ["National identity", "Hidden sin and morality", "Industrialization", "Social justice"], "answer": "Hidden sin and morality", "explanation": "Hawthorne's story examines the discovery of evil in seemingly good people.", "topic": "Literature"},
    {"question": "Which work is considered the 'founding novel of Western literature'?", "choices": ["The Scarlet Letter", "Don Quixote", "Ulysses", "The Metamorphosis"], "answer": "Don Quixote", "explanation": "Cervantes' novel is often considered the first modern novel.", "topic": "Literature"},
    {"question": "Which of the following is an example of oxymoron?", "choices": ["Pretty ugly", "Silent night", "Happy ending", "Deep thought"], "answer": "Pretty ugly", "explanation": "Oxymoron combines contradictory terms for effect.", "topic": "Literature"},
    {"question": "Which is an example of back-formation?", "choices": ["Burglar → burgle", "Email → to email", "Childhood → child", "Phone → telephone"], "answer": "Burglar → burgle", "explanation": "Back-formation creates new words by removing apparent affixes.", "topic": "Linguistics"},
    {"question": "Which word formation process is shown in 'pickpocket'?", "choices": ["Conversion", "Compounding", "Affixation", "Clipping"], "answer": "Compounding", "explanation": "Compounding combines 'pick' and 'pocket' into one word.", "topic": "Linguistics"},
    {"question": "The IPA consonant chart organizes sounds by:", "choices": ["Alphabetical order", "Place, manner, and voicing", "Meaning and context", "Loudness and softness"], "answer": "Place, manner, and voicing", "explanation": "The IPA chart systematically organizes consonants by articulatory features.", "topic": "Linguistics"},
    {"question": "Which is NOT a manner of articulation?", "choices": ["Stop", "Nasal", "Affricate", "Conjunction"], "answer": "Conjunction", "explanation": "Conjunction is a grammatical term, not a manner of articulation.", "topic": "Linguistics"},
    {"question": "A phone is:", "choices": ["The smallest unit of meaning", "Any actual speech sound produced", "A dictionary entry", "A symbol in writing"], "answer": "Any actual speech sound produced", "explanation": "Phones are actual speech sounds, regardless of linguistic significance.", "topic": "Linguistics"},
    {"question": "A phoneme is:", "choices": ["A variant of a sound", "A mental category of contrastive sounds", "A speech act", "A type of grapheme"], "answer": "A mental category of contrastive sounds", "explanation": "Phonemes are abstract sound units that distinguish meaning.", "topic": "Linguistics"},
    {"question": "Different pronunciations of the same phoneme are called:", "choices": ["Morphemes", "Phones", "Allophones", "Syllables"], "answer": "Allophones", "explanation": "Allophones are variant realizations of the same phoneme.", "topic": "Linguistics"},
    {"question": "Which type of morpheme can stand alone as a word?", "choices": ["Bound", "Free", "Affix", "Allomorph"], "answer": "Free", "explanation": "Free morphemes can function independently as complete words.", "topic": "Linguistics"},
    {"question": "'Unhappiness' contains:", "choices": ["Two bound morphemes and one free morpheme", "Two free morphemes and one bound morpheme", "Three free morphemes", "Only one bound morpheme"], "answer": "Two bound morphemes and one free morpheme", "explanation": "'Un-' and '-ness' are bound; 'happy' is free.", "topic": "Linguistics"},
    {"question": "Which is a lexical morpheme?", "choices": ["-ed", "The", "Run", "And"], "answer": "Run", "explanation": "Lexical morphemes carry semantic content (nouns, verbs, adjectives).", "topic": "Linguistics"},
    {"question": "Which is a grammatical morpheme?", "choices": ["Dog", "Book", "Happy", "-s"], "answer": "-s", "explanation": "Grammatical morphemes express grammatical relationships.", "topic": "Linguistics"},
    {"question": "Which field of linguistics studies meaning?", "choices": ["Syntax", "Semantics", "Pragmatics", "Morphology"], "answer": "Semantics", "explanation": "Semantics studies the meaning of words, phrases, and sentences.", "topic": "Linguistics"},
    {"question": "Which studies language use in social contexts?", "choices": ["Sociolinguistics", "Syntax", "Phonology", "Morphology"], "answer": "Sociolinguistics", "explanation": "Sociolinguistics examines how language varies and functions in social settings.", "topic": "Linguistics"},

    // Additional questions from all documents
    {"question": "Which linguistic theory focuses on language in real-life communication?", "choices": ["Structuralism", "Functionalism", "Generativism", "Behaviorism"], "answer": "Functionalism", "explanation": "Functionalism emphasizes language as a tool for communication in context.", "topic": "Linguistics"},
    {"question": "Functionalism in language teaching emphasizes:", "choices": ["Rote memorization", "Communication and interaction", "Grammar drills", "Reading literature only"], "answer": "Communication and interaction", "explanation": "Functional approaches prioritize meaningful communication over mechanical practice.", "topic": "Linguistics"},
    {"question": "A cloze test measures:", "choices": ["Memory", "Ability to fill in missing words", "Phonetic accuracy", "Literary interpretation"], "answer": "Ability to fill in missing words", "explanation": "Cloze tests assess reading comprehension and contextual understanding.", "topic": "Linguistics"},
    {"question": "A proficiency exam primarily assesses:", "choices": ["Historical knowledge", "Real-world language use", "Literature recall", "Vocabulary only"], "answer": "Real-world language use", "explanation": "Proficiency tests measure practical language ability in authentic contexts.", "topic": "Linguistics"},
    {"question": "Which work critiques chivalric ideals and reality vs. illusion?", "choices": ["Macbeth", "Don Quixote", "The Scarlet Letter", "Hamlet"], "answer": "Don Quixote", "explanation": "Cervantes satirizes romanticized notions of knighthood and chivalry.", "topic": "Literature"},
    {"question": "In Hamlet, Claudius is:", "choices": ["Hamlet's father", "Hamlet's uncle and murderer of the king", "Hamlet's brother", "Ophelia's father"], "answer": "Hamlet's uncle and murderer of the king", "explanation": "Claudius killed his brother (Hamlet's father) and married Gertrude.", "topic": "Literature"},
    {"question": "Who is Ophelia's brother?", "choices": ["Hamlet", "Claudius", "Laertes", "Polonius"], "answer": "Laertes", "explanation": "Laertes is Polonius's son and Ophelia's brother.", "topic": "Literature"},
    {"question": "Who leads the army against Macbeth?", "choices": ["Hamlet and Horatio", "Malcolm and Macduff", "Banquo and Duncan", "Fortinbras and Polonius"], "answer": "Malcolm and Macduff", "explanation": "Malcolm (rightful heir) and Macduff lead forces to restore legitimate rule.", "topic": "Literature"},
    {"question": "Who inherits the throne at the end of Hamlet?", "choices": ["Hamlet", "Claudius", "Fortinbras", "Laertes"], "answer": "Fortinbras", "explanation": "The Norwegian prince Fortinbras restores order after the tragedy.", "topic": "Literature"},
    {"question": "'Not without Laughter' was written by:", "choices": ["Langston Hughes", "James Joyce", "Nathaniel Hawthorne", "Edith Tiempo"], "answer": "Langston Hughes", "explanation": "Hughes's semi-autobiographical novel about African American family life.", "topic": "Literature"},
    {"question": "Which work by Hughes celebrates African American culture?", "choices": ["Murder in the Cathedral", "The Negro Speaks of Rivers", "Ulysses", "The Castle"], "answer": "The Negro Speaks of Rivers", "explanation": "This poem connects African American identity to ancient civilizations.", "topic": "Literature"},
    {"question": "Which author is associated with 'stream of consciousness'?", "choices": ["James Joyce", "Miguel de Cervantes", "Franz Kafka", "Nathaniel Hawthorne"], "answer": "James Joyce", "explanation": "Joyce pioneered stream-of-consciousness narrative technique.", "topic": "Literature"},
    {"question": "Dubliners includes which famous story?", "choices": ["The Dead", "The Castle", "The Waste Land", "The Scarlet Letter"], "answer": "The Dead", "explanation": "'The Dead' is the final and most celebrated story in Joyce's collection.", "topic": "Literature"},
    {"question": "James Joyce's Ulysses is often described as:", "choices": ["A pastoral romance", "The greatest modernist novel", "A gothic allegory", "A Shakespearean tragedy"], "answer": "The greatest modernist novel", "explanation": "Ulysses is widely regarded as the pinnacle of modernist literature.", "topic": "Literature"},
    {"question": "Which author used allegory and symbolism to probe hidden sin?", "choices": ["James Joyce", "Nathaniel Hawthorne", "Franz Kafka", "Miguel de Cervantes"], "answer": "Nathaniel Hawthorne", "explanation": "Hawthorne explored moral psychology through symbolic narratives.", "topic": "Literature"},
    {"question": "'Mosses from an Old Manse' was written by:", "choices": ["James Joyce", "Nathaniel Hawthorne", "Franz Kafka", "Langston Hughes"], "answer": "Nathaniel Hawthorne", "explanation": "A collection of Hawthorne's short stories published in 1846.", "topic": "Literature"},
    {"question": "The work The House of Seven Gables is:", "choices": ["A short story by Kafka", "A gothic romance by Hawthorne", "A modernist text by Joyce", "A Shakespearean play"], "answer": "A gothic romance by Hawthorne", "explanation": "Hawthorne's novel explores ancestral guilt and family curses.", "topic": "Literature"},
    {"question": "Who wrote The Trial and The Castle?", "choices": ["Franz Kafka", "T.S. Eliot", "James Joyce", "Edith Tiempo"], "answer": "Franz Kafka", "explanation": "These novels epitomize Kafka's themes of bureaucratic absurdity.", "topic": "Literature"},
    {"question": "The term 'Kafkaesque' suggests:", "choices": ["Light and humorous situations", "Bizarre, nightmarish complexity", "Romantic optimism", "Joyful simplicity"], "answer": "Bizarre, nightmarish complexity", "explanation": "Kafkaesque describes surreal, oppressive, or absurdly complex situations.", "topic": "Literature"},
    {"question": "The Waste Land portrays:", "choices": ["Rural peace", "Post-war spiritual desolation", "Romantic love", "Shakespearean tragedy"], "answer": "Post-war spiritual desolation", "explanation": "Eliot's poem captures the spiritual barrenness after World War I.", "topic": "Literature"},
    {"question": "Which is a tragedy of ambition and fate?", "choices": ["Hamlet", "Macbeth", "Don Quixote", "The Scarlet Letter"], "answer": "Macbeth", "explanation": "Macbeth's ambition leads to his inevitable downfall.", "topic": "Literature"},
    {"question": "Who said, 'Out, damned spot!'?", "choices": ["Hamlet", "Macbeth", "Lady Macbeth", "Ophelia"], "answer": "Lady Macbeth", "explanation": "Lady Macbeth says this while sleepwalking, haunted by guilt.", "topic": "Literature"},
    {"question": "The Green Knight challenges whom?", "choices": ["Hamlet", "Sir Gawain", "Macbeth", "Laertes"], "answer": "Sir Gawain", "explanation": "In the medieval romance, the Green Knight tests Sir Gawain's honor.", "topic": "Literature"},
    {"question": "Sir Gawain's tale is mainly about:", "choices": ["Chivalry and honor", "Post-war alienation", "Romantic love", "Religious reform"], "answer": "Chivalry and honor", "explanation": "The poem explores the ideals and complexities of chivalric honor.", "topic": "Literature"},
    {"question": "Which Shakespearean character struggles with indecision?", "choices": ["Macbeth", "Hamlet", "Othello", "Iago"], "answer": "Hamlet", "explanation": "Hamlet's indecision about revenge drives the play's action.", "topic": "Literature"},
    {"question": "Which author is a major figure of literary modernism?", "choices": ["Miguel de Cervantes", "T.S. Eliot", "Nathaniel Hawthorne", "Edith Tiempo"], "answer": "T.S. Eliot", "explanation": "Eliot was a leading poet and critic of the modernist movement.", "topic": "Literature"},
    {"question": "The Harlem Renaissance took place mainly in:", "choices": ["Paris", "Harlem, New York", "London", "Boston"], "answer": "Harlem, New York", "explanation": "This cultural movement centered in Harlem during the 1920s-1930s.", "topic": "Literature"},
    {"question": "Which writer was both poet and social activist?", "choices": ["James Joyce", "Langston Hughes", "T.S. Eliot", "Franz Kafka"], "answer": "Langston Hughes", "explanation": "Hughes combined literary achievement with social and political activism.", "topic": "Literature"},
    {"question": "The phrase 'Negro Speaks of Rivers' connects to:", "choices": ["Modernist despair", "African American heritage", "Elizabethan drama", "Gothic fiction"], "answer": "African American heritage", "explanation": "The poem links African American identity to ancient river civilizations.", "topic": "Literature"},
    {"question": "Franz Kafka was from:", "choices": ["Ireland", "Czech lands", "Spain", "America"], "answer": "Czech lands", "explanation": "Kafka was born in Prague, then part of the Austro-Hungarian Empire.", "topic": "Literature"},
    {"question": "Who is the protagonist of Don Quixote?", "choices": ["Hamlet", "Don Quixote of La Mancha", "Macbeth", "Sir Gawain"], "answer": "Don Quixote of La Mancha", "explanation": "The idealistic knight-errant who tilts at windmills.", "topic": "Literature"},
    {"question": "Don Quixote's squire is:", "choices": ["Sancho Panza", "Fortinbras", "Banquo", "Laertes"], "answer": "Sancho Panza", "explanation": "The practical, earthbound companion to the idealistic Don Quixote.", "topic": "Literature"},
    {"question": "Don Quixote is a satire of:", "choices": ["Romantic love", "Chivalric ideals", "Religious faith", "Industrial revolution"], "answer": "Chivalric ideals", "explanation": "Cervantes mocks outdated notions of knight-errantry and chivalry.", "topic": "Literature"},
    {"question": "Who is considered the 'goddess of Philippine poetry'?", "choices": ["Edith Tiempo", "Ophelia Alcantara Dimalanta", "T.S. Eliot", "Jessica Zafra"], "answer": "Edith Tiempo", "explanation": "Tiempo was a National Artist known for her masterful poetry.", "topic": "Literature"},
    {"question": "Edith Tiempo's poetry often explored:", "choices": ["Social justice", "Love and human experience", "Gothic despair", "Chivalry"], "answer": "Love and human experience", "explanation": "Tiempo's work examined universal themes of human emotion and experience.", "topic": "Literature"},
    {"question": "Who wrote 'Black Nativity'?", "choices": ["T.S. Eliot", "Langston Hughes", "Nathaniel Hawthorne", "Miguel de Cervantes"], "answer": "Langston Hughes", "explanation": "Hughes's gospel play celebrating the birth of Christ.", "topic": "Literature"},
    {"question": "'Productive' word formation means:", "choices": ["Rules no longer used", "Rules actively used in modern English", "Old forms preserved", "Infixation only"], "answer": "Rules actively used in modern English", "explanation": "Productive processes can create new words in contemporary usage.", "topic": "Linguistics"},
    {"question": "Which is lexicalized?", "choices": ["Childhood", "Runner", "Happiness", "Teacher"], "answer": "Childhood", "explanation": "Lexicalized words have meanings that aren't predictable from their parts.", "topic": "Linguistics"},
    {"question": "Phonotactic constraints are:", "choices": ["Stress patterns", "Restrictions in sound combinations", "Vowel length rules", "Rhythm patterns"], "answer": "Restrictions in sound combinations", "explanation": "Phonotactics govern which sound sequences are permissible in a language.", "topic": "Linguistics"},
    {"question": "Which is a voiced bilabial nasal?", "choices": ["/m/", "/n/", "/ŋ/", "/b/"], "answer": "/m/", "explanation": "The /m/ sound uses both lips with nasal airflow and voicing.", "topic": "Linguistics"},
    {"question": "Which is a voiceless velar stop?", "choices": ["/g/", "/k/", "/d/", "/p/"], "answer": "/k/", "explanation": "The /k/ sound is produced at the velum without vocal fold vibration.", "topic": "Linguistics"},
    {"question": "Which is a voiced alveolar stop?", "choices": ["/t/", "/d/", "/p/", "/k/"], "answer": "/d/", "explanation": "The /d/ sound is produced at the alveolar ridge with voicing.", "topic": "Linguistics"},
    {"question": "Which is a voiceless alveolar fricative?", "choices": ["/s/", "/z/", "/ʃ/", "/ʒ/"], "answer": "/s/", "explanation": "The /s/ sound is produced at the alveolar ridge without voicing.", "topic": "Linguistics"},
    {"question": "Which is a voiced palatal fricative?", "choices": ["/ʒ/", "/ʃ/", "/s/", "/z/"], "answer": "/ʒ/", "explanation": "The /ʒ/ sound (as in 'measure') is voiced and palatal.", "topic": "Linguistics"},
    {"question": "Which sound is aspirated in English?", "choices": ["/p/ in 'pat'", "/p/ in 'spin'", "/b/ in 'bat'", "/g/ in 'go'"], "answer": "/p/ in 'pat'", "explanation": "Initial voiceless stops are aspirated in English.", "topic": "Linguistics"},
    {"question": "The phoneme /k/ has which allophones?", "choices": ["[kʰ] and [k]", "[b] and [p]", "[g] and [k]", "[ŋ] and [n]"], "answer": "[kʰ] and [k]", "explanation": "/k/ is aspirated initially but unaspirated after /s/.", "topic": "Linguistics"},
    {"question": "Which term describes the study of sound changes across time?", "choices": ["Phonology", "Historical linguistics", "Pragmatics", "Semantics"], "answer": "Historical linguistics", "explanation": "Historical linguistics studies how languages change over time.", "topic": "Linguistics"},
    {"question": "In orthography, 'naïve' shows:", "choices": ["Umlaut", "Diaeresis", "Allophone", "Inflection"], "answer": "Diaeresis", "explanation": "The diaeresis (two dots) indicates separate vowel sounds.", "topic": "Linguistics"},
    {"question": "In Hamlet, Ophelia's cause of death is often interpreted as:", "choices": ["Poisoning", "Suicide by drowning", "Murder by Claudius", "Natural illness"], "answer": "Suicide by drowning", "explanation": "Ophelia drowns, possibly by suicide, after her father's death.", "topic": "Literature"},
    {"question": "'Black vernacular in poetry' is credited to:", "choices": ["Eliot", "Hughes", "Joyce", "Hawthorne"], "answer": "Hughes", "explanation": "Hughes pioneered the use of African American speech patterns in literature.", "topic": "Literature"},
    {"question": "Which of the following is an epic of Muslim warriors in the Philippines?", "choices": ["Biag ni Lam-ang", "Dorangan", "Darangen (Maranao)", "Hudhud"], "answer": "Darangen (Maranao)", "explanation": "The Darangen is the Maranao epic celebrating Muslim heroes.", "topic": "Literature"},
    {"question": "The term 'epigraph' refers to:", "choices": ["Closing speech of a play", "Short quotation at the beginning of a text", "Long monologue", "Poetic refrain"], "answer": "Short quotation at the beginning of a text", "explanation": "An epigraph is an inscription or quotation at the start of a literary work.", "topic": "Literature"},
    {"question": "Comedia in Philippine literature often ends with:", "choices": ["The triumph of Christian heroes", "The downfall of the protagonist", "A tragic resolution", "A pagan victory"], "answer": "The triumph of Christian heroes", "explanation": "Spanish colonial comedia typically celebrated Christian values.", "topic": "Literature"},
    {"question": "The Dorangan epic of the Maranao people highlights:", "choices": ["Colonial oppression", "Bravery and defense of Islam", "Mythical creation stories", "Romantic tragedies"], "answer": "Bravery and defense of Islam", "explanation": "Maranao epics celebrate Islamic heroes and values.", "topic": "Literature"},
    {"question": "'Dark Romanticism' is often associated with:", "choices": ["T.S. Eliot", "Nathaniel Hawthorne", "Miguel de Cervantes", "James Joyce"], "answer": "Nathaniel Hawthorne", "explanation": "Hawthorne explored the darker aspects of human nature and society.", "topic": "Literature"},
    {"question": "Murder in the Cathedral is a play by:", "choices": ["Franz Kafka", "Miguel de Cervantes", "T.S. Eliot", "James Joyce"], "answer": "T.S. Eliot", "explanation": "Eliot's verse drama about the martyrdom of Thomas Becket.", "topic": "Literature"},
    {"question": "Four Quartets was authored by:", "choices": ["T.S. Eliot", "James Joyce", "William Blake", "Nathaniel Hawthorne"], "answer": "T.S. Eliot", "explanation": "Eliot's late masterpiece exploring time, spirituality, and memory.", "topic": "Literature"}
  ]
};
// Helpers
const $ = (s, r=document)=> r.querySelector(s);
const $$ = (s, r=document)=> [...r.querySelectorAll(s)];
const pad = n => String(n).padStart(2, '0');
const STORAGE = "let-eng-major-onefile-v1";

const state = {
  bankTitle: BANK.title || "LET English Major — Mixed",
  pool: BANK.items || [],
  items: [],
  i: 0,
  answers: [],
  flags: [],
  reviewMode: false,
  startedAt: null,
  timeLimitSec: 0,
  elapsedSec: 0,
  finished: false,
  topic: "All"
};

function save(){ localStorage.setItem(STORAGE, JSON.stringify(state)); }
function load(){
  try{ return JSON.parse(localStorage.getItem(STORAGE)); }catch{ return null; }
}

function show(id){
  ["setup","quiz","results"].forEach(s => $("#"+s).classList.add("hidden"));
  $("#"+id).classList.remove("hidden");
}

function shuffle(arr){
  for(let i=arr.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1)); [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}

function sample(arr, k){
  return shuffle(arr.slice()).slice(0, k);
}

let tickId = null;
function startTimer(){
  clearInterval(tickId);
  tickId = setInterval(()=>{
    state.elapsedSec++;
    const rem = state.timeLimitSec ? Math.max(0, state.timeLimitSec - state.elapsedSec) : state.elapsedSec;
    $("#timer").textContent = `${pad(Math.floor(rem/60))}:${pad(rem%60)}`;
    $("#timer-label").textContent = state.timeLimitSec ? "remaining" : "elapsed";
    if(state.timeLimitSec && rem===0){ submit(); }
    save();
  }, 1000);
}

function renderNav(){
  const nav = $("#qnav"); nav.innerHTML = "";
  state.items.forEach((_, idx)=>{
    const b = document.createElement("button");
    b.className = "qbtn" + (idx===state.i ? " active" : "") + (state.answers[idx]!=null? " answered": "") + (state.flags[idx]? " flagged": "");
    b.textContent = idx+1;
    b.addEventListener("click", ()=>{ state.i = idx; save(); renderQ(); renderNav(); });
    nav.appendChild(b);
  });
}

function renderQ(){
  const item = state.items[state.i];
  $("#quiz-title").textContent = `${state.bankTitle} — Q${state.i+1}/${state.items.length}`;
  $("#quiz-sub").textContent = `Topic: ${item.topic}`;
  $("#progress-bar").style.width = `${(state.answers.filter(x=>x!=null).length/state.items.length)*100}%`;

  const wrap = $("#qwrap"); wrap.innerHTML = "";
  const box = document.createElement("div");
  box.innerHTML = `
    <div class="small">${state.flags[state.i] ? "⚑ Flagged" : ""}</div>
    <h3 style="margin:6px 0 0 0">${item.question}</h3>
    <div class="grid" id="choices"></div>
    <div id="expl" class="small" style="margin-top:8px"></div>
  `;
  wrap.appendChild(box);

  // Build a stable shuffled presentation of choices per question
  if(!item._order){ item._order = shuffle(item.choices.map((_,i)=>i)); }
  const chosen = state.answers[state.i];
  const correctIdx = item.choices.findIndex(c=>c===item.answer);

  const cwrap = $("#choices");
  item._order.forEach((idx)=>{
    const text = item.choices[idx];
    const label = document.createElement("label");
    let cls = "choice";
    if(state.reviewMode){
      if(idx===correctIdx) cls += " correct";
      else if(chosen===idx) cls += " wrong";
    }
    label.className = cls;
    label.innerHTML = `<input type="radio" name="c"> <div>${text}</div>`;
    if(chosen===idx) label.querySelector("input").checked = true;
    label.addEventListener("click", ()=>{
      if(state.reviewMode) return;
      state.answers[state.i] = idx;
      save(); renderNav(); renderQ();
    });
    cwrap.appendChild(label);
  });

  const expl = $("#expl");
  if(state.reviewMode){
    const isCorrect = chosen===correctIdx;
    expl.innerHTML = `${isCorrect? "✅ Correct." : "❌ Incorrect."} <b>Answer:</b> ${item.answer} — ${item.explanation}`;
  } else {
    expl.textContent = "";
  }
}

function submit(){
  state.finished = true;
  clearInterval(tickId);
  const total = state.items.length;
  let score = 0;
  const byTopic = {};

  state.items.forEach((item, i)=>{
    byTopic[item.topic] = byTopic[item.topic] || {total:0, correct:0};
    byTopic[item.topic].total++;
    const chosen = state.answers[i];
    const correctIdx = item.choices.findIndex(c=>c===item.answer);
    if(chosen===correctIdx){ score++; byTopic[item.topic].correct++; }
  });

  $("#res-score").textContent = score;
  $("#res-total").textContent = total;
  $("#res-acc").textContent = Math.round((score/total)*100) + "%";
  const used = state.elapsedSec;
  $("#res-time").textContent = `${pad(Math.floor(used/60))}:${pad(used%60)}`;

  const bd = $("#res-breakdown"); bd.innerHTML = "";
  Object.entries(byTopic).forEach(([topic, obj])=>{
    const div = document.createElement("div");
    div.className = "kpi";
    div.innerHTML = `<div class="small">${topic}</div><div style="font-size:22px; font-weight:800">${obj.correct} / ${obj.total}</div>`;
    bd.appendChild(div);
  });

  show("results");
  save();
}

(function init(){
  // Load any unfinished session
  const saved = load();
  if(saved && saved.items?.length && !saved.finished){
    Object.assign(state, saved);
    $("#btn-continue").classList.remove("hidden");
  }
  show("setup");

  // events
  $("#btn-start").addEventListener("click", ()=>{
    const topic = $("#topic").value;
    const count = Math.max(10, Math.min(120, parseInt($("#count").value || "60")));
    const minutes = Math.max(0, Math.min(240, parseInt($("#minutes").value || "0")));

    state.topic = topic;
    const pool = state.pool.filter(it => topic==="All" || it.topic===topic);
    const selected = sample(pool, Math.min(count, pool.length));
    // Reset per-attempt order
    selected.forEach(it => { delete it._order; });

    state.items = selected;
    state.answers = Array(state.items.length).fill(null);
    state.flags = Array(state.items.length).fill(false);
    state.i = 0;
    state.reviewMode = false;
    state.startedAt = Date.now();
    state.timeLimitSec = minutes*60;
    state.elapsedSec = 0;
    state.finished = false;

    show("quiz"); renderNav(); renderQ(); startTimer(); save();
  });

  $("#btn-continue").addEventListener("click", ()=>{ show("quiz"); renderNav(); renderQ(); startTimer(); });

  $("#btn-prev").addEventListener("click", ()=>{ if(state.i>0){ state.i--; save(); renderQ(); renderNav(); } });
  $("#btn-next").addEventListener("click", ()=>{ if(state.i<state.items.length-1){ state.i++; save(); renderQ(); renderNav(); } });
  $("#btn-flag").addEventListener("click", ()=>{ state.flags[state.i] = !state.flags[state.i]; save(); renderNav(); renderQ(); });
  $("#btn-clear").addEventListener("click", ()=>{ state.answers[state.i] = null; save(); renderNav(); renderQ(); });
  $("#btn-submit").addEventListener("click", ()=>{ if(confirm("Submit answers now?")) submit(); });
  $("#btn-exit").addEventListener("click", ()=>{ if(confirm("Exit quiz? Progress saved.")){ show("setup"); } });
  $("#btn-toggle-review").addEventListener("click", ()=>{ state.reviewMode = !state.reviewMode; $("#btn-toggle-review").textContent = "Review: " + (state.reviewMode? "On":"Off"); renderQ(); });
  $("#btn-new").addEventListener("click", ()=>{ show("setup"); });
  $("#btn-review-missed").addEventListener("click", ()=>{
    const missed = state.items.map((it,i)=> i).filter(i=>{
      const chosen = state.answers[i];
      const correctIdx = state.items[i].choices.findIndex(c=>c===state.items[i].answer);
      return chosen!==correctIdx;
    });
    if(!missed.length){ alert("Great job! Nothing to review."); return; }
    state.i = missed[0];
    state.reviewMode = true;
    show("quiz"); renderNav(); renderQ(); save();
  });

  // Import custom questions (optional)
  $("#btn-import").addEventListener("click", ()=> $("#file-input").click());
  $("#file-input").addEventListener("change", async (e)=>{
    const file = e.target.files[0];
    if(!file) return;
    try{
      const text = await file.text();
      const data = JSON.parse(text);
      if(!Array.isArray(data.items)) throw new Error("JSON must have { items: [...] }");
      state.bankTitle = data.title || "Custom Bank";
      state.pool = data.items;
      alert("Custom questions loaded. Configure options and press Start.");
    }catch(err){
      alert("Import failed: " + err.message);
    }finally{
      e.target.value = "";
    }
  });

  // Keyboard shortcuts
  window.addEventListener("keydown", (e)=>{
    if($("#quiz").classList.contains("hidden")) return;
    const k = e.key.toLowerCase();
    if(["1","2","3","4"].includes(k)){
      const idx = parseInt(k)-1;
      const radios = $$("input[name='c']");
      if(radios[idx]) radios[idx].click();
    }else if(k==="n"){ $("#btn-next").click(); }
    else if(k==="p"){ $("#btn-prev").click(); }
    else if(k==="f"){ $("#btn-flag").click(); }
    else if(k==="r"){ $("#btn-toggle-review").click(); }
  });

})();
</script>
</body>
</html>
